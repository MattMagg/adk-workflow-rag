qdrant:
  url: ${QDRANT_URL}
  api_key: ${QDRANT_API_KEY}
  collection: ${QDRANT_COLLECTION}

voyage:
  api_key: ${VOYAGE_API_KEY}

  # Dense models
  docs_model: "voyage-context-3"
  code_model: "voyage-code-3"
  output_dimension: 2048
  output_dtype: "float"

  # Reranker
  rerank_model: "rerank-2.5"

vectors:
  dense_docs: "dense_docs"
  dense_code: "dense_code"
  sparse_lexical: "sparse_lexical"

retrieval_defaults:
  fusion: "rrf"
  prefetch_limit_dense: ${RETRIEVAL_PREFETCH_LIMIT_DENSE}
  prefetch_limit_sparse: ${RETRIEVAL_PREFETCH_LIMIT_SPARSE}
  final_limit: ${RETRIEVAL_FINAL_LIMIT}
  rerank_top_k: ${RERANK_TOP_K}

# Ingestion configuration per SPEC-00 corpus embedding targets
ingestion:
  batch_size: 50  # Points per Qdrant upsert batch
  
  corpora:
    adk_docs:
      root: "corpora/adk-docs"
      corpus: "adk_docs"
      repo: "google/adk-docs"
      kind: "doc"
      ref: "main"
      include_globs:
        - "docs/**/*.md"
        - "docs/**/*.mdx"
        - "examples/python/**/*.py"
        - "examples/python/**/*.md"
        - "README.md"
        - "CONTRIBUTING.md"
      exclude_globs:
        - "**/site/**"
        - "**/.git/**"
        - "**/node_modules/**"
        - "**/__pycache__/**"
        # Non-Python API reference
        - "docs/api-reference/java/**"
        - "docs/api-reference/go/**"
        - "docs/api-reference/rest/**"
        - "docs/api-reference/typescript/**"
        # Non-Python example code
        - "examples/go/**"
        - "examples/java/**"
        - "examples/typescript/**"
        # Non-Python language docs (only include Python docs)
        - "docs/get-started/go.md"
        - "docs/get-started/java.md"
        - "docs/get-started/typescript.md"
        - "**/*-go.md"
        - "**/*-java.md"
        - "**/*-typescript.md"
        - "**/quickstart-streaming-java.md"
        # Theme/tooling
        - "overrides/**"
        - "tools/**"
        - "docs/stylesheets/**"
        - "llms-full.txt"
      allowed_exts: [".md", ".mdx", ".py", ".txt"]
      max_file_bytes: 500000

    adk_python:
      root: "corpora/adk-python"
      corpus: "adk_python"
      repo: "google/adk-python"
      kind: "code"
      ref: "main"
      include_globs:
        - "src/**/*.py"
        - "tests/**/*.py"
        - "README.md"
        - "AGENTS.md"
        - "pyproject.toml"
      exclude_globs:
        - "**/.git/**"
        - "**/__pycache__/**"
        - "**/.venv/**"
        - "**/*.pyc"
        - "**/contributing/**"
        - ".github/**"
        - "scripts/**"
        - "assets/**"
        - "llms-full.txt"
      allowed_exts: [".py", ".md", ".toml"]
      max_file_bytes: 500000

    agent_dev_docs:
      root: "corpora/agent-dev-docs"
      corpus: "agent_dev_docs"
      repo: "internal/agent-dev-docs"
      kind: "doc"  # Uses voyage-context-3
      ref: "local"
      include_globs:
        - "*.md"                      # Root-level extracted PDFs
        - "notebooks-converted/*.md"  # Converted notebook examples
      exclude_globs:
        - "**/.DS_Store"
        - "**/notebooks/**"           # Skip raw notebook files
      allowed_exts: [".md"]
      max_file_bytes: 5000000  # 5MB for large PDF extractions

    # OpenAI Agents SDK - Documentation
    openai_agents_docs:
      root: "corpora/openai-agents-python"
      corpus: "openai_agents_docs"
      repo: "openai/openai-agents-python"
      kind: "doc"  # Uses voyage-context-3
      ref: "main"
      include_globs:
        - "docs/**/*.md"
        - "README.md"
        - "AGENTS.md"
        - "CLAUDE.md"
      exclude_globs:
        - "**/.git/**"
        - "docs/ja/**"                # Skip Japanese translations
        - "docs/ko/**"                # Skip Korean translations
        - "docs/zh/**"                # Skip Chinese translations
        - "docs/ref/**"               # Skip auto-generated API reference
        - "docs/stylesheets/**"
        - "docs/scripts/**"
        - "docs/assets/**"
        - "llms-full.txt"
        - "llms.txt"
      allowed_exts: [".md"]
      max_file_bytes: 500000

    # OpenAI Agents SDK - Python Source Code
    openai_agents_python:
      root: "corpora/openai-agents-python"
      corpus: "openai_agents_python"
      repo: "openai/openai-agents-python"
      kind: "code"  # Uses voyage-code-3
      ref: "main"
      include_globs:
        - "src/**/*.py"
        - "examples/**/*.py"
        - "tests/**/*.py"
        - "pyproject.toml"
      exclude_globs:
        - "**/.git/**"
        - "**/__pycache__/**"
        - "**/.venv/**"
        - "**/*.pyc"
      allowed_exts: [".py", ".toml"]
      max_file_bytes: 500000

    # =========================================================================
    # LangChain Ecosystem
    # =========================================================================

    # LangGraph - Python source code (graph-based agent orchestration)
    langgraph_python:
      root: "corpora/langgraph"
      corpus: "langgraph_python"
      repo: "langchain-ai/langgraph"
      kind: "code"  # Uses voyage-code-3
      ref: "main"
      include_globs:
        - "libs/langgraph/**/*.py"
        - "libs/prebuilt/**/*.py"
        - "libs/checkpoint/**/*.py"
        - "libs/checkpoint-postgres/**/*.py"
        - "libs/checkpoint-sqlite/**/*.py"
        - "libs/sdk-py/**/*.py"
        - "README.md"
        - "AGENTS.md"
        - "CLAUDE.md"
      exclude_globs:
        - "**/.git/**"
        - "**/__pycache__/**"
        - "**/tests/**"
        - "**/bench/**"
        - "libs/sdk-js/**"
        - "libs/cli/**"
        - "**/uv.lock"
      allowed_exts: [".py", ".md"]
      max_file_bytes: 500000

    # LangChain - Python source code (core + key partners)
    langchain_python:
      root: "corpora/langchain"
      corpus: "langchain_python"
      repo: "langchain-ai/langchain"
      kind: "code"  # Uses voyage-code-3
      ref: "main"
      include_globs:
        - "libs/core/**/*.py"
        - "libs/langchain/**/*.py"
        - "libs/text-splitters/**/*.py"
        - "libs/partners/anthropic/**/*.py"
        - "libs/partners/openai/**/*.py"
        - "libs/partners/qdrant/**/*.py"
        - "README.md"
        - "AGENTS.md"
        - "CLAUDE.md"
      exclude_globs:
        - "**/.git/**"
        - "**/__pycache__/**"
        - "**/tests/**"
        - "**/scripts/**"
        - "**/uv.lock"
      allowed_exts: [".py", ".md"]
      max_file_bytes: 500000

    # DeepAgents - Documentation (skills, READMEs, guides)
    deepagents_docs:
      root: "corpora/deepagents"
      corpus: "deepagents_docs"
      repo: "langchain-ai/deepagents"
      kind: "doc"  # Uses voyage-context-3
      ref: "main"
      include_globs:
        - "README.md"
        - "libs/*/README.md"
        - "examples/**/*.md"
        - "libs/deepagents-cli/deepagents_cli/default_agent_prompt.md"
      exclude_globs:
        - "**/.git/**"
      allowed_exts: [".md"]
      max_file_bytes: 500000

    # DeepAgents - Python source code
    deepagents_python:
      root: "corpora/deepagents"
      corpus: "deepagents_python"
      repo: "langchain-ai/deepagents"
      kind: "code"  # Uses voyage-code-3
      ref: "main"
      include_globs:
        - "libs/deepagents/**/*.py"
        - "libs/deepagents-cli/**/*.py"
        - "libs/harbor/**/*.py"
        - "libs/acp/**/*.py"
        - "examples/**/*.py"
      exclude_globs:
        - "**/.git/**"
        - "**/__pycache__/**"
        - "**/tests/**"
      allowed_exts: [".py"]
      max_file_bytes: 500000

