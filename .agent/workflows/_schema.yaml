# Schema for ADK workflow frontmatter (agent-optimized)
# Version: 1.0.0
# Purpose: Enable agents to programmatically parse and select workflows

required:
  - description
  - triggers
  - category

optional:
  - dependencies
  - outputs
  - context_required
  - completion_criteria
  - estimated_steps
  - difficulty

field_definitions:
  description:
    type: string
    max_length: 200
    purpose: "One-line summary for agent routing"

  triggers:
    type: array
    items: string
    purpose: "Keywords/phrases that should route to this workflow"
    examples:
      - "create agent"
      - "LlmAgent"
      - "new agent"

  category:
    type: string
    enum:
      - init
      - agents
      - tools
      - behavior
      - multi-agent
      - memory
      - security
      - streaming
      - deploy
      - quality
      - advanced
      - meta
    purpose: "Primary category for organization"

  dependencies:
    type: array
    items: string
    purpose: "Workflows that must be completed first"
    default: []
    examples:
      - "adk-init"
      - "adk-agents-create"

  outputs:
    type: array
    items: object
    purpose: "Files/artifacts produced by this workflow"
    item_schema:
      path:
        type: string
        description: "File path pattern, supports {variable} placeholders"
      type:
        type: string
        enum: [file, directory, config, code_block]
    examples:
      - path: "{agent_name}/agent.py"
        type: file

  context_required:
    type: array
    items: string
    purpose: "Information agent must gather before starting"
    examples:
      - "agent_name"
      - "model_choice"
      - "project_directory"

  completion_criteria:
    type: array
    items: string
    purpose: "Checkable conditions that indicate successful completion"
    examples:
      - "adk run {agent_name} executes without errors"
      - "root_agent variable is defined"

  estimated_steps:
    type: integer
    minimum: 1
    maximum: 20
    purpose: "Number of major steps in workflow"

  difficulty:
    type: string
    enum:
      - beginner
      - intermediate
      - advanced
    purpose: "Complexity level for agent prioritization"

# Standard sections every workflow should have (in order)
required_sections:
  - "Agent Decision Logic"
  - "Prerequisites"
  - "Verification"
  - "Troubleshooting"
  - "References"

optional_sections:
  - "Configuration Options"
  - "Integration Points"
  - "Common Patterns"
  - "Error Recovery"
  - "Next Workflows"
